webpackJsonp([1],{259:function(t,e,s){var n=s(260);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);s(20)("047a053c",n,!0,{})},260:function(t,e,s){(t.exports=s(7)(!1)).push([t.i,".contest-enter-active[data-v-51dac9ae]{-webkit-transition:all .3s ease .6s;transition:all .3s ease .6s}.contest-leave-active[data-v-51dac9ae]{-webkit-transition:all .5s cubic-bezier(1,.5,.8,1);transition:all .5s cubic-bezier(1,.5,.8,1)}.contest-enter[data-v-51dac9ae],.contest-leave-to[data-v-51dac9ae]{-webkit-transform:translateY(10px);transform:translateY(10px);opacity:0}.minheight[data-v-51dac9ae]{min-height:550px}",""])},261:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"contestDetail",data:function(){return{contestText:{overview:"Overview",problem:"Problem",status:"Status",rank:"Rank"},routerName:"",c_id:this.$route.params.id,hintInfor:""}},methods:{showHintMsg:function(t){this.hintInfor=t,$("#contestHint").modal()}},watch:{routerName:function(t,e){var s=new RegExp(t);$("#contestDetailNav>li").each(function(t,e){var n=$(this).html();1==s.test(n)?$(this).children().css({color:"#fff","background-color":"#007bff"}):$(this).children().css({color:"#007bff","background-color":"transparent"})})},"$route.path":function(t,e){var s=t.lastIndexOf("/"),n=t.substring(s+1,t.length);new RegExp("contestProblem").test(t)&&(n="problemList"),this.routerName=n}},created:function(){var t=this.$route.path,e=t.lastIndexOf("/"),s=t.substring(e+1,t.length);new RegExp("contestProblem").test(t)&&(s="problemList"),this.routerName=s}}},262:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("ul",{staticClass:"nav nav-pills flex-column h4 col-sm-2 float-left",attrs:{id:"contestDetailNav"}},[s("li",{staticClass:"nav-item",attrs:{id:"overview"}},[s("router-link",{staticClass:"nav-link",attrs:{to:"/contestDetail/"+t.c_id+"/overview"}},[t._v(t._s(t.contestText.overview)+"\n            ")])],1),t._v(" "),s("li",{staticClass:"nav-item",attrs:{id:"problemList"}},[s("router-link",{staticClass:"nav-link",attrs:{to:"/contestDetail/"+t.c_id+"/problemList"}},[t._v("\n                "+t._s(t.contestText.problem)+"\n            ")])],1),t._v(" "),s("li",{staticClass:"nav-item",attrs:{id:"status"}},[s("router-link",{staticClass:"nav-link",attrs:{to:"/contestDetail/"+t.c_id+"/status"}},[t._v(t._s(t.contestText.status)+"\n            ")])],1),t._v(" "),s("li",{staticClass:"nav-item",attrs:{id:"rank"}},[s("router-link",{staticClass:"nav-link",attrs:{to:"/contestDetail/"+t.c_id+"/rank"}},[t._v(t._s(t.contestText.rank)+"\n            ")])],1)]),t._v(" "),s("transition",{attrs:{name:"contest"}},[s("router-view",{staticClass:"col-sm-10 float-right minheight",on:{hintMsg:t.showHintMsg}})],1),t._v(" "),s("div",{staticClass:"clearfix"}),t._v(" "),s("div",{staticClass:"modal fade",attrs:{id:"contestHint",role:"dialog","aria-labelledby":"contestHint","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog modal-sm"},[s("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),s("div",{staticClass:"modal-body"},[t._v("\n                    "+t._s(t.hintInfor)+"\n                ")]),t._v(" "),t._m(1)])])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("span",{staticClass:"modal-title"},[this._v("系统消息")]),this._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[this._v("×")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[this._v("关闭")])])}]}},263:function(t,e,s){var n=s(264);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);s(20)("5c65bd2b",n,!0,{})},264:function(t,e,s){(t.exports=s(7)(!1)).push([t.i,"",""])},265:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"overview",data:function(){return{contestInfor:{contestTitle:"",beginTime:"",endTime:"",status:"",type:"Private",currentTime:""},type:{0:"Public",1:"Private",2:"Class"},c_id:this.$route.params.id,thisTime:1,thisTimeFlag:!1}},watch:{thisTime:function(){this.contestInfor.currentTime=this.getTime(),this.contestInfor.currentTime<this.contestInfor.beginTime?this.contestInfor.status="Pending":this.contestInfor.currentTime>this.contestInfor.endTime?this.contestInfor.status="End":this.contestInfor.status="Running"}},created:function(){this.load(),this.thisTimeFlag=!0},methods:{load:function(){var t=this;axios.post("/contest/show/"+this.c_id).then(function(e){var s=e.data;if(s.id==t.c_id){t.contestInfor.contestTitle=s.title,t.contestInfor.beginTime=s.start_time,t.contestInfor.endTime=s.end_time,t.contestInfor.type=t.type[s.type];var n=new Date(s.start_time),i=new Date(s.end_time);t.thisTime=s.server_time,t.setCurrentTime();var a=new Date(1e3*s.server_time);t.contestInfor.status=a<n?"Pending":a>i?"End":"Running"}else null==s.status?alert("非法请求"):s.status||alert(s.message)}).catch(function(t){var e=t.response.status;401==e?alert("请登录"):404==e&&alert("请求的资源不存在")})},setCurrentTime:function(){var t=this;this.thisTime+=1,setTimeout(function(){t.thisTimeFlag&&t.setCurrentTime()},1e3)},getTime:function(){var t=new Date(1e3*this.thisTime),e=t.getFullYear(),s=t.getMonth()+1,n=t.getDate(),i=t.getHours(),a=t.getMinutes(),o=t.getSeconds();return s<10&&(s="0"+s),n<10&&(n="0"+n),i<10&&(i="0"+i),a<10&&(a="0"+a),o<10&&(o="0"+o),e+"-"+s+"-"+n+" "+i+":"+a+":"+o}},beforeRouteLeave:function(t,e,s){var n=new RegExp("contestDetail");this.contestInfor.currentTime>=this.contestInfor.beginTime||!n.test(t.path)?(this.thisTimeFlag=!1,s()):(this.$emit("hintMsg","比赛未开始！"),s(!1))}}},266:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"card"},[s("span",{staticClass:"h1 card-header"},[t._v(t._s(t.contestInfor.contestTitle))]),t._v(" "),s("div",{staticClass:"card-body bg-light"},[s("br"),s("br"),t._v(" "),s("div",[s("label",{staticClass:"h3 card-title"},[t._v("BeginTime: "),s("span",{staticClass:"h4 text-info"},[t._v(t._s(t.contestInfor.beginTime))]),t._v(" ")]),t._v(" "),s("label",{staticClass:"h3 card-title"},[t._v("EndTime: "),s("span",{staticClass:"h4 text-info"},[t._v(t._s(t.contestInfor.endTime))])])]),t._v(" "),s("div",[s("label",{staticClass:"h3 card-title"},[t._v("CurrentTime: "),s("span",{staticClass:"h4 text-info"},[t._v(t._s(t.contestInfor.currentTime))])])]),t._v(" "),s("div",{staticClass:"h4"},[s("label",[t._v("Type: "),s("span",{staticClass:"h5 text-info"},[t._v(t._s(t.contestInfor.type)+"  ")])]),t._v(" "),s("label",[t._v("Status: \n                    "),s("span",{staticClass:"h5",class:"Pending"==t.contestInfor.status?"text-success":"Running"==t.contestInfor.status?"text-danger":"text-dark"},[t._v("\n                        "+t._s(t.contestInfor.status)+"\n                    ")])])])])])])},staticRenderFns:[]}},348:function(t,e,s){var n=s(3)(s(261),s(262),!1,function(t){s(259)},"data-v-51dac9ae",null);t.exports=n.exports},349:function(t,e,s){var n=s(3)(s(265),s(266),!1,function(t){s(263)},"data-v-47988857",null);t.exports=n.exports}});