webpackJsonp([7],{220:function(t,e,a){var s=a(3)(a(223),a(224),!1,function(t){a(221)},"data-v-492df1de",null);t.exports=s.exports},221:function(t,e,a){var s=a(222);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(20)("40b47b78",s,!0,{})},222:function(t,e,a){(t.exports=a(7)(!1)).push([t.i,"",""])},223:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"paging",props:{pageId:String},data:function(){return{id:this.pageId,pageNumber:5,currentPage:1,pageTotal:10,beginPage:1,currentIndex:1,goPageNumber:1,goPageError:"请输入页数",isLock:!1}},methods:{changePage:function(t){this.currentIndex=t,$("#pageNumber").removeClass("is-invalid"),$("#"+this.id+" li").filter(".active").removeClass("active"),$("#"+this.id+" li").filter(".disabled").removeClass("disabled"),1==this.currentPage&&$("#"+this.id+" li").first().addClass("disabled"),this.currentPage==this.pageTotal&&$("#"+this.id+" li").last().addClass("disabled"),$("#"+this.id+" li").eq(t).addClass("active")},nextPage:function(t){if(this.isLock)this.$toastr.e("请稍后再试！");else{$("#pageNumber").removeClass("is-invalid");var e=new RegExp("^[0-9]*[1-9][0-9]*$");""==t?($("#pageNumber").addClass("is-invalid"),this.goPageError="请输入页数！"):t>this.pageTotal||t<1?($("#pageNumber").addClass("is-invalid"),this.goPageError="超出页数范围！"):e.test(t)?this.currentPage=t:($("#pageNumber").addClass("is-invalid"),this.goPageError="输入不合法！")}},goPage:function(){var t,e=this.currentPage;this.pageNumber<5?(this.beginPage=1,t=e-0):e-2<1?(this.beginPage=1,t=e-0):this.pageTotal-e<2?(this.beginPage=this.pageTotal-4,t=e-this.beginPage+1):(this.beginPage=e-2,t=3),this.changePage(t)},initPage:function(t){$("#pageNumber").removeClass("is-invalid"),$("#"+this.id+" li").filter(".active").removeClass("active"),$("#"+this.id+" li").filter(".disabled").removeClass("disabled"),this.pageNumber=t<5?t:5,this.pageTotal=t,0==t&&(this.pageNumber=1,this.pageTotal=1),this.currentPage=1,this.beginPage=1,this.currentIndex=1,this.goPageNumber=1,this.goPageError="请输入页数",$("#"+this.id+" li").first().addClass("disabled"),this.currentPage==this.pageTotal&&$("#"+this.id+" li").last().addClass("disabled"),$("#"+this.id+" li").eq(1).addClass("active")},unLock:function(){this.isLock=!1},locking:function(){this.isLock=!0}},watch:{currentPage:function(){this.$emit("page-change",this.currentPage)}}}},224:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("ul",{staticClass:"pagination mx-auto",attrs:{id:t.id}},[a("li",{staticClass:"page-item"},[a("a",{staticClass:"page-link disabled",attrs:{href:"javaScript:;"},on:{click:function(e){t.nextPage(t.currentPage-1)}}},[t._v("«")])]),t._v(" "),t._l(t.pageNumber,function(e){return a("li",{staticClass:"page-item",attrs:{value:e},on:{click:function(a){t.nextPage(t.beginPage+e-1)}}},[a("a",{staticClass:"page-link",attrs:{href:"javaScript:;"}},[t._v(t._s(t.beginPage+e-1))])])}),t._v(" "),a("li",{staticClass:"page-item"},[a("a",{staticClass:"page-link",attrs:{href:"javaScript:;"},on:{click:function(e){t.nextPage(t.currentPage+1)}}},[t._v("»")])])],2)]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"input-group mx-auto col-7 col-sm-4"},[a("div",{staticClass:"input-group-prepend"},[a("label",{staticClass:"input-group-text",attrs:{for:"pageNumber"}},[t._v(t._s(t.currentPage+"/"+t.pageTotal))])]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.goPageNumber,expression:"goPageNumber"}],staticClass:"form-control",attrs:{id:"pageNumber",type:"text",name:"points",placeholder:"page",required:""},domProps:{value:t.goPageNumber},on:{input:function(e){e.target.composing||(t.goPageNumber=e.target.value)}}}),t._v(" "),a("div",{staticClass:"invalid-tooltip"},[t._v("\n                "+t._s(t.goPageError)+"\n            ")]),t._v(" "),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){t.nextPage(t.goPageNumber)}}},[t._v("Go")])])])])])},staticRenderFns:[]}},335:function(t,e,a){var s=a(336);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(20)("0ec462d5",s,!0,{})},336:function(t,e,a){(t.exports=a(7)(!1)).push([t.i,"",""])},337:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(220),i=a.n(s);e.default={name:"problemStatus",components:{Paging:i.a},data:function(){return{statusTitle:"Problem Status",formText:{problemId:"Problem ID:",userId:"User ID:",result:"Result:",language:"Language:",submit:"Search",resultSelect:["Waiting","Rejudge","Compile","judging","Accepted","Presentation Error","Wrong Answer","Time Limit Exceeded","Memory Limit Exceeded","Output Limit Exceeded","Runtime Error","Compile Error","Compiled","Running"],languageSelect:["C","C++","Pascal","java","Ruby","Bash","Python","PHP","Perl","C#","Object-C","FreeBasic","Schema","Clang","Clang++","Lua","JavaScript","Go","Other"]},formData:{pId:"",uId:"",resultSelect:"",languageSelect:""},statusHeadText:{id:"ID",user:"User",problemId:"Problem ID",status:"Status",language:"Language",codeLen:"Code Len.",time:"Time",mem:"Mem.",submitTime:"Submit Time"},status_list:[],p_id:this.$route.params.id,currentPage:-1,pageTotal:1,globalUID:""}},mounted:function(){this.load()},methods:{load:function(){var t=this;this.$refs.page.locking(),axios.post("/problem/status",{u_id:this.formData.uId,language:this.formData.languageSelect,result:this.formData.resultSelect,p_id:this.p_id,page:this.currentPage}).then(function(e){t.globalUID=t.globalLoginData.userID;var a=e.data.data;for(t.pageTotal=e.data.last_page,-1==t.currentPage&&t.$refs.page.initPage(t.pageTotal);t.status_list.pop(););a.forEach(function(e){t.status_list.push(e)}),t.$refs.page.unLock()})},getPage:function(t){this.currentPage=t,this.load(),this.$refs.page.goPage()}}}},338:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"card"},[a("span",{staticClass:"h1 card-header"},[t._v(t._s(t.statusTitle))]),t._v(" "),a("div",{staticClass:"form-inline"},[a("div",{staticClass:"col mx-auto"},[a("span",{attrs:{for:"uId"}},[t._v(" "+t._s(t.formText.userId)+" ")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.uId,expression:"formData.uId"}],staticClass:"form-control",attrs:{id:"uId",type:"text",size:"10"},domProps:{value:t.formData.uId},on:{input:function(e){e.target.composing||t.$set(t.formData,"uId",e.target.value)}}}),t._v(" "),a("span",{attrs:{for:"resultSelect"}},[t._v(" "+t._s(t.formText.result)+" ")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.formData.resultSelect,expression:"formData.resultSelect"}],staticClass:"form-control",attrs:{id:"resultSelect"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.formData,"resultSelect",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("All")]),t._v(" "),t._l(t.formText.resultSelect,function(e,s){return a("option",{domProps:{value:s}},[t._v(t._s(e))])})],2),t._v(" "),a("span",{attrs:{for:"languageSelect"}},[t._v(" "+t._s(t.formText.language)+" ")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.formData.languageSelect,expression:"formData.languageSelect"}],staticClass:"form-control",attrs:{id:"languageSelect"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.formData,"languageSelect",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("All")]),t._v(" "),t._l(t.formText.languageSelect,function(e,s){return a("option",{domProps:{value:s}},[t._v(t._s(e))])})],2),t._v(" "),a("button",{staticClass:"btn btn-default",on:{click:t.load}},[t._v(t._s(t.formText.submit))])])]),t._v(" "),a("div",{staticClass:"table-responsive card-body",staticStyle:{"overflow-y":"hidden"}},[a("table",{staticClass:"table-bordered col"},[a("thead",[a("tr",t._l(t.statusHeadText,function(e){return a("th",[t._v(t._s(e))])}))]),t._v(" "),a("transition-group",{attrs:{name:"list",tag:"tbody"}},t._l(t.status_list,function(e){return a("tr",{key:e.runid,class:6==e.result?"table-danger":4==e.result?"table-success":"table-info list-item",attrs:{id:"status_list"}},[a("td",[t._v(t._s(e.runid))]),t._v(" "),a("td",[t._v(t._s(e.user))]),t._v(" "),a("td",[t._v(t._s(e.pid))]),t._v(" "),a("td",{class:6==e.result?"text-danger":4==e.result?"text-success":"text-info"},[t._v(t._s(t.formText.resultSelect[e.result]))]),t._v(" "),e.user_id==t.globalUID?a("td",[a("router-link",{attrs:{to:"/viewCode/"+e.runid,tag:"a",target:"_blank"}},[t._v(t._s(t.formText.languageSelect[e.language]))])],1):a("td",[t._v(t._s(t.formText.languageSelect[e.language]))]),t._v(" "),a("td",[t._v(t._s(e.code_len))]),t._v(" "),a("td",[t._v(t._s(e.time))]),t._v(" "),a("td",[t._v(t._s(e.mem))]),t._v(" "),a("td",[t._v(t._s(e.submit_time))])])}))],1)]),t._v(" "),a("paging",{ref:"page",attrs:{"page-id":"problemStatusPage"},on:{"page-change":t.getPage}})],1)])},staticRenderFns:[]}},366:function(t,e,a){var s=a(3)(a(337),a(338),!1,function(t){a(335)},"data-v-8d7bf9e0",null);t.exports=s.exports}});