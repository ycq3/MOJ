webpackJsonp([15],{327:function(s,e,a){var r=a(328);"string"==typeof r&&(r=[[s.i,r,""]]),r.locals&&(s.exports=r.locals);a(20)("503e1097",r,!0,{})},328:function(s,e,a){(s.exports=a(7)(!1)).push([s.i,".form-group label[data-v-4c75b846]{padding-top:8px}",""])},329:function(s,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"register",data:function(){return{registerText:{register:"注册",userID:"邮箱",password:"密码",confirmPassword:"确认密码",nickName:"昵称",sex:{sex:"性别",male:"男",female:"女",secrecy:"保密"},quote:"自我介绍",reset:"重置",login:"我已注册，立即登录"},registerData:{username:"",password:"",confirmPassword:"",nickname:"",sex:"0",quote:""},errorMessage:{usernameMsg:"",passwordMsg:"",confirmPasswordMsg:"",nicknameMsg:"",quoteMsg:""}}},methods:{initInput:function(){this.registerData={username:"",password:"",confirmPassword:"",nickname:"",sex:"0",quote:""}},inputCheck:function(){$("#username").removeClass("is-invalid"),$("#password").removeClass("is-invalid"),$("#confirmPassword").removeClass("is-invalid"),$("#nickName").removeClass("is-invalid"),$("#quote").removeClass("is-invalid");if(""==this.registerData.username)this.errorMessage.usernameMsg="用户名不能为空",$("#username").addClass("is-invalid");else if(this.registerData.username.length>200)this.errorMessage.usernameMsg="长度不超过200字符",$("#username").addClass("is-invalid");else if(/^[A-Za-z\d]+([-_.][A-Za-z\d]+)*@([A-Za-z\d]+[-.])+[A-Za-z\d]{2,4}$/.test(this.registerData.username))if(""==this.registerData.password)this.errorMessage.passwordMsg="密码不能为空",$("#password").addClass("is-invalid");else if(this.registerData.password.length<6)this.errorMessage.passwordMsg="密码长度不低于6位",$("#password").addClass("is-invalid");else if(this.registerData.password.length>200)this.errorMessage.passwordMsg="长度不超过200字符",$("#password").addClass("is-invalid");else if(""==this.registerData.confirmPassword)this.errorMessage.confirmPasswordMsg="密码不能为空",$("#confirmPassword").addClass("is-invalid");else if(this.registerData.confirmPassword.length<6)this.errorMessage.confirmPasswordMsg="密码长度不低于6位",$("#confirmPassword").addClass("is-invalid");else if(this.registerData.confirmPassword.length>200)this.errorMessage.confirmPasswordMsg="长度不超过200字符",$("#confirmPassword").addClass("is-invalid");else if(this.registerData.confirmPassword!=this.registerData.password)this.errorMessage.confirmPasswordMsg="密码错误",$("#confirmPassword").addClass("is-invalid");else if(""==this.registerData.nickname)this.errorMessage.nicknameMsg="昵称不能为空",$("#nickName").addClass("is-invalid");else if(this.registerData.nickname.length>200)this.errorMessage.nicknameMsg="长度不超过200字符",$("#nickName").addClass("is-invalid");else{if(!(this.registerData.quote.length>200))return!0;this.errorMessage.quoteMsg="长度不超过200字符",$("#quote").addClass("is-invalid")}else this.errorMessage.usernameMsg="邮箱格式错误",$("#username").addClass("is-invalid");return!1},regist:function(){var s=this;this.inputCheck()&&axios.post("/register",{email:this.registerData.username,name:this.registerData.nickname,password:this.registerData.password,c_password:this.registerData.confirmPassword,quote:this.registerData.quote,sex:this.registerData.sex}).then(function(e){var a=e.data;a.status?(document.cookie="M_OJ_token="+a.data.token.token_type+" "+a.data.token.access_token,"/register"==s.$route.path&&s.$router.push("/"),$("#resignHint").modal()):(null!=a.data.username&&(s.errorMessage.usernameMsg=a.data.username,$("#username").addClass("is-invalid")),null!=a.data.nickname&&(s.errorMessage.nicknameMsg=a.data.nickname,$("#nickName").addClass("is-invalid")),null!=a.data.quote&&(s.errorMessage.quoteMsg=a.data.quote,$("#quote").addClass("is-invalid")))}).catch(function(e){s.$toastr.e("注册失败！")})}}}},330:function(s,e){s.exports={render:function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:" col-md-6 offset-md-3"},[a("div",{staticClass:"modal-header col-sm-12"},[a("h4",{staticClass:"col text-center",attrs:{id:"registerLabel"}},[s._v("\n                "+s._s(s.registerText.register)+"\n            ")])]),s._v(" "),a("div",{staticClass:"modal-body text-left"},[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-3  form-control-label",attrs:{for:"username"}},[s._v(s._s(s.registerText.userID))]),s._v(" "),a("div",{staticClass:"col-sm-9"},[a("input",{directives:[{name:"model",rawName:"v-model",value:s.registerData.username,expression:"registerData.username"}],staticClass:"form-control",attrs:{id:"username",placeholder:"请输入邮箱",type:"email",required:""},domProps:{value:s.registerData.username},on:{input:function(e){e.target.composing||s.$set(s.registerData,"username",e.target.value)}}}),s._v(" "),a("div",{staticClass:"invalid-feedback"},[s._v("\n                        "+s._s(s.errorMessage.usernameMsg)+"\n                    ")])])]),s._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-3  form-control-label",attrs:{for:"password"}},[s._v(s._s(s.registerText.password))]),s._v(" "),a("div",{staticClass:"col-md-9"},[a("input",{directives:[{name:"model",rawName:"v-model",value:s.registerData.password,expression:"registerData.password"}],staticClass:"form-control",attrs:{id:"password",placeholder:"请输入密码",type:"password",required:""},domProps:{value:s.registerData.password},on:{input:function(e){e.target.composing||s.$set(s.registerData,"password",e.target.value)}}}),s._v(" "),a("div",{staticClass:"invalid-feedback"},[s._v("\n                        "+s._s(s.errorMessage.passwordMsg)+"\n                    ")])])]),s._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-3 float-left",attrs:{for:"confirmPassword"}},[s._v(s._s(s.registerText.confirmPassword))]),s._v(" "),a("div",{staticClass:"col-sm-9"},[a("input",{directives:[{name:"model",rawName:"v-model",value:s.registerData.confirmPassword,expression:"registerData.confirmPassword"}],staticClass:"form-control",attrs:{id:"confirmPassword",placeholder:"请确认输入的密码",type:"password",required:""},domProps:{value:s.registerData.confirmPassword},on:{input:function(e){e.target.composing||s.$set(s.registerData,"confirmPassword",e.target.value)}}}),s._v(" "),a("div",{staticClass:"invalid-feedback"},[s._v("\n                        "+s._s(s.errorMessage.confirmPasswordMsg)+"\n                    ")])])]),s._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-3 form-control-label",attrs:{for:"nickName"}},[s._v(s._s(s.registerText.nickName))]),s._v(" "),a("div",{staticClass:"col-sm-9"},[a("input",{directives:[{name:"model",rawName:"v-model",value:s.registerData.nickname,expression:"registerData.nickname"}],staticClass:"form-control",attrs:{id:"nickName",placeholder:"输入你的昵称",type:"text",required:""},domProps:{value:s.registerData.nickname},on:{input:function(e){e.target.composing||s.$set(s.registerData,"nickname",e.target.value)}}}),s._v(" "),a("div",{staticClass:"invalid-feedback"},[s._v("\n                        "+s._s(s.errorMessage.nicknameMsg)+"\n                    ")])])]),s._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-3 form-control-label"},[s._v(s._s(s.registerText.sex.sex))]),s._v(" "),a("div",{staticClass:"col-sm-9 text-center"},[a("label",{staticClass:"radio-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:s.registerData.sex,expression:"registerData.sex"}],attrs:{type:"radio",value:"0",name:"sex"},domProps:{checked:s._q(s.registerData.sex,"0")},on:{change:function(e){s.$set(s.registerData,"sex","0")}}}),s._v(s._s(s.registerText.sex.secrecy)+"\n                    ")]),s._v(" "),a("label",{staticClass:"radio-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:s.registerData.sex,expression:"registerData.sex"}],attrs:{type:"radio",value:"1",name:"sex"},domProps:{checked:s._q(s.registerData.sex,"1")},on:{change:function(e){s.$set(s.registerData,"sex","1")}}}),s._v(s._s(s.registerText.sex.male)+"\n                    ")]),s._v(" "),a("label",{staticClass:"radio-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:s.registerData.sex,expression:"registerData.sex"}],attrs:{type:"radio",value:"2",name:"sex"},domProps:{checked:s._q(s.registerData.sex,"2")},on:{change:function(e){s.$set(s.registerData,"sex","2")}}}),s._v(s._s(s.registerText.sex.female)+"\n                    ")])])]),s._v(" "),a("div",{staticClass:"form-group row "},[a("label",{staticClass:"col-sm-3 form-control-label",attrs:{for:"quote"}},[s._v(s._s(s.registerText.quote))]),s._v(" "),a("div",{staticClass:"col-sm-9"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:s.registerData.quote,expression:"registerData.quote"}],staticClass:"form-control",attrs:{id:"quote",rows:"4",placeholder:"长度不超过200字符"},domProps:{value:s.registerData.quote},on:{input:function(e){e.target.composing||s.$set(s.registerData,"quote",e.target.value)}}}),s._v(" "),a("div",{staticClass:"invalid-feedback"},[s._v("\n                        "+s._s(s.errorMessage.quoteMsg)+"\n                    ")])])])]),s._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",on:{click:s.regist}},[s._v(s._s(s.registerText.register))]),s._v(" "),a("button",{staticClass:"btn btn-primary",on:{click:s.initInput}},[s._v(s._s(s.registerText.reset))]),s._v(" "),a("a",{attrs:{href:"JavaScript:;","data-dismiss":"modal","data-toggle":"modal","data-target":"#login"}},[s._v(s._s(s.registerText.login))])])])])},staticRenderFns:[]}},364:function(s,e,a){var r=a(3)(a(329),a(330),!1,function(s){a(327)},"data-v-4c75b846",null);s.exports=r.exports}});